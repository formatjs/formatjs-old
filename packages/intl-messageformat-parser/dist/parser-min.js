(function(){"use strict";var a=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Nb!==b&&(Nb>b&&(Nb=0,Ob={line:1,column:1,seenCR:!1}),c(Ob,Nb,b),Nb=b),Ob}function d(a){Pb>Lb||(Lb>Pb&&(Pb=Lb,Qb=[]),Qb.push(a))}function e(d,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=c(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==d?d:h(e,j),e,j,f,i.line,i.column)}function f(){var a;return a=g()}function g(){var a,b,c;if(a=Lb,b=[],c=h(),c!==C)for(;c!==C;)b.push(c),c=h();else b=F;return b!==C&&(Mb=a,b=G(b)),a=b}function h(){var a;return a=j(),a===C&&(a=l()),a}function i(){var b,c,d,e,f,g;if(b=Lb,c=[],d=Lb,e=u(),e!==C?(f=z(),f!==C?(g=u(),g!==C?(e=[e,f,g],d=e):(Lb=d,d=F)):(Lb=d,d=F)):(Lb=d,d=F),d!==C)for(;d!==C;)c.push(d),d=Lb,e=u(),e!==C?(f=z(),f!==C?(g=u(),g!==C?(e=[e,f,g],d=e):(Lb=d,d=F)):(Lb=d,d=F)):(Lb=d,d=F);else c=F;return c!==C&&(c=a.substring(b,Lb)),b=c,b===C&&(b=Lb,c=t(),c!==C&&(c=a.substring(b,Lb)),b=c),b}function j(){var a,b;return a=Lb,b=i(),b!==C&&(Mb=a,b=H(b)),a=b}function k(){var b,c,e;if(b=x(),b===C){if(b=Lb,c=[],I.test(a.charAt(Lb))?(e=a.charAt(Lb),Lb++):(e=C,0===Rb&&d(J)),e!==C)for(;e!==C;)c.push(e),I.test(a.charAt(Lb))?(e=a.charAt(Lb),Lb++):(e=C,0===Rb&&d(J));else c=F;c!==C&&(c=a.substring(b,Lb)),b=c}return b}function l(){var b,c,e,f,g,h,i,j,l;return b=Lb,123===a.charCodeAt(Lb)?(c=K,Lb++):(c=C,0===Rb&&d(L)),c!==C?(e=u(),e!==C?(f=k(),f!==C?(g=u(),g!==C?(h=Lb,44===a.charCodeAt(Lb)?(i=N,Lb++):(i=C,0===Rb&&d(O)),i!==C?(j=u(),j!==C?(l=m(),l!==C?(i=[i,j,l],h=i):(Lb=h,h=F)):(Lb=h,h=F)):(Lb=h,h=F),h===C&&(h=M),h!==C?(i=u(),i!==C?(125===a.charCodeAt(Lb)?(j=P,Lb++):(j=C,0===Rb&&d(Q)),j!==C?(Mb=b,c=R(f,h),b=c):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F),b}function m(){var a;return a=n(),a===C&&(a=o(),a===C&&(a=p())),a}function n(){var b,c,e,f,g,h,i;return b=Lb,a.substr(Lb,6)===S?(c=S,Lb+=6):(c=C,0===Rb&&d(T)),c===C&&(a.substr(Lb,4)===U?(c=U,Lb+=4):(c=C,0===Rb&&d(V)),c===C&&(a.substr(Lb,4)===W?(c=W,Lb+=4):(c=C,0===Rb&&d(X)))),c!==C?(e=u(),e!==C?(f=Lb,44===a.charCodeAt(Lb)?(g=N,Lb++):(g=C,0===Rb&&d(O)),g!==C?(h=u(),h!==C?(i=z(),i!==C?(g=[g,h,i],f=g):(Lb=f,f=F)):(Lb=f,f=F)):(Lb=f,f=F),f===C&&(f=M),f!==C?(Mb=b,c=Y(c,f),b=c):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F),b}function o(){var b,c,e,f,g,h,i,j,k;if(b=Lb,a.substr(Lb,6)===Z?(c=Z,Lb+=6):(c=C,0===Rb&&d($)),c!==C)if(e=u(),e!==C)if(44===a.charCodeAt(Lb)?(f=N,Lb++):(f=C,0===Rb&&d(O)),f!==C)if(g=u(),g!==C)if(h=s(),h===C&&(h=M),h!==C)if(i=u(),i!==C){if(j=[],k=r(),k!==C)for(;k!==C;)j.push(k),k=r();else j=F;j!==C?(Mb=b,c=_(h,j),b=c):(Lb=b,b=F)}else Lb=b,b=F;else Lb=b,b=F;else Lb=b,b=F;else Lb=b,b=F;else Lb=b,b=F;else Lb=b,b=F;return b}function p(){var b,c,e,f,g,h,i;if(b=Lb,a.substr(Lb,6)===ab?(c=ab,Lb+=6):(c=C,0===Rb&&d(bb)),c!==C)if(e=u(),e!==C)if(44===a.charCodeAt(Lb)?(f=N,Lb++):(f=C,0===Rb&&d(O)),f!==C)if(g=u(),g!==C){if(h=[],i=r(),i!==C)for(;i!==C;)h.push(i),i=r();else h=F;h!==C?(Mb=b,c=cb(h),b=c):(Lb=b,b=F)}else Lb=b,b=F;else Lb=b,b=F;else Lb=b,b=F;else Lb=b,b=F;return b}function q(){var b,c,e;return b=Lb,61===a.charCodeAt(Lb)?(c=db,Lb++):(c=C,0===Rb&&d(eb)),c!==C?(e=x(),e!==C?(Mb=b,c=fb(e),b=c):(Lb=b,b=F)):(Lb=b,b=F),b===C&&(b=z()),b}function r(){var b,c,e,f,h,i,j,k,l;return b=Lb,c=u(),c!==C?(e=q(),e!==C?(f=u(),f!==C?(123===a.charCodeAt(Lb)?(h=K,Lb++):(h=C,0===Rb&&d(L)),h!==C?(i=u(),i!==C?(j=g(),j!==C?(k=u(),k!==C?(125===a.charCodeAt(Lb)?(l=P,Lb++):(l=C,0===Rb&&d(Q)),l!==C?(Mb=b,c=gb(e,j),b=c):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F),b}function s(){var b,c,e,f;return b=Lb,a.substr(Lb,7)===hb?(c=hb,Lb+=7):(c=C,0===Rb&&d(ib)),c!==C?(e=u(),e!==C?(f=x(),f!==C?(Mb=b,c=jb(f),b=c):(Lb=b,b=F)):(Lb=b,b=F)):(Lb=b,b=F),b}function t(){var b,c;if(Rb++,b=[],lb.test(a.charAt(Lb))?(c=a.charAt(Lb),Lb++):(c=C,0===Rb&&d(mb)),c!==C)for(;c!==C;)b.push(c),lb.test(a.charAt(Lb))?(c=a.charAt(Lb),Lb++):(c=C,0===Rb&&d(mb));else b=F;return Rb--,b===C&&(c=C,0===Rb&&d(kb)),b}function u(){var a,b;for(Rb++,a=[],b=t();b!==C;)a.push(b),b=t();return Rb--,a===C&&(b=C,0===Rb&&d(nb)),a}function v(){var b;return ob.test(a.charAt(Lb))?(b=a.charAt(Lb),Lb++):(b=C,0===Rb&&d(pb)),b}function w(){var b;return qb.test(a.charAt(Lb))?(b=a.charAt(Lb),Lb++):(b=C,0===Rb&&d(rb)),b}function x(){var b,c,e,f,g,h;if(b=Lb,48===a.charCodeAt(Lb)?(c=sb,Lb++):(c=C,0===Rb&&d(tb)),c===C){if(c=Lb,e=Lb,ub.test(a.charAt(Lb))?(f=a.charAt(Lb),Lb++):(f=C,0===Rb&&d(vb)),f!==C){for(g=[],h=v();h!==C;)g.push(h),h=v();g!==C?(f=[f,g],e=f):(Lb=e,e=F)}else Lb=e,e=F;e!==C&&(e=a.substring(c,Lb)),c=e}return c!==C&&(Mb=b,c=wb(c)),b=c}function y(){var b,c,e,f,g,h,i,j;return xb.test(a.charAt(Lb))?(b=a.charAt(Lb),Lb++):(b=C,0===Rb&&d(yb)),b===C&&(b=Lb,a.substr(Lb,2)===zb?(c=zb,Lb+=2):(c=C,0===Rb&&d(Ab)),c!==C&&(Mb=b,c=Bb()),b=c,b===C&&(b=Lb,a.substr(Lb,2)===Cb?(c=Cb,Lb+=2):(c=C,0===Rb&&d(Db)),c!==C&&(Mb=b,c=Eb()),b=c,b===C&&(b=Lb,a.substr(Lb,2)===Fb?(c=Fb,Lb+=2):(c=C,0===Rb&&d(Gb)),c!==C&&(Mb=b,c=Hb()),b=c,b===C&&(b=Lb,a.substr(Lb,2)===Ib?(c=Ib,Lb+=2):(c=C,0===Rb&&d(Jb)),c!==C?(e=Lb,f=Lb,g=w(),g!==C?(h=w(),h!==C?(i=w(),i!==C?(j=w(),j!==C?(g=[g,h,i,j],f=g):(Lb=f,f=F)):(Lb=f,f=F)):(Lb=f,f=F)):(Lb=f,f=F),f!==C&&(f=a.substring(e,Lb)),e=f,e!==C?(Mb=b,c=Kb(e),b=c):(Lb=b,b=F)):(Lb=b,b=F))))),b}function z(){var b,c,d;if(b=Lb,c=[],d=y(),d!==C)for(;d!==C;)c.push(d),d=y();else c=F;return c!==C&&(c=a.substring(b,Lb)),b=c}var A,B=arguments.length>1?arguments[1]:{},C={},D={start:f},E=f,F=C,G=function(a){return{type:"messageFormatPattern",elements:a}},H=function(a){return{type:"messageTextElement",value:a}},I=/^[^ \t\n\r,.+={}]/,J={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},K="{",L={type:"literal",value:"{",description:'"{"'},M=null,N=",",O={type:"literal",value:",",description:'","'},P="}",Q={type:"literal",value:"}",description:'"}"'},R=function(a,b){return{type:"argumentElement",id:a,format:b&&b[2]}},S="number",T={type:"literal",value:"number",description:'"number"'},U="date",V={type:"literal",value:"date",description:'"date"'},W="time",X={type:"literal",value:"time",description:'"time"'},Y=function(a,b){return{type:a+"Format",style:b&&b[2]}},Z="plural",$={type:"literal",value:"plural",description:'"plural"'},_=function(a,b){return{type:"pluralFormat",offset:a||0,options:b}},ab="select",bb={type:"literal",value:"select",description:'"select"'},cb=function(a){return{type:"selectFormat",options:a}},db="=",eb={type:"literal",value:"=",description:'"="'},fb=function(a){return a},gb=function(a,b){return{type:"optionalFormatPattern",selector:a,value:b}},hb="offset:",ib={type:"literal",value:"offset:",description:'"offset:"'},jb=function(a){return a},kb={type:"other",description:"whitespace"},lb=/^[ \t\n\r]/,mb={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},nb={type:"other",description:"optionalWhitespace"},ob=/^[0-9]/,pb={type:"class",value:"[0-9]",description:"[0-9]"},qb=/^[0-9a-f]/i,rb={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},sb="0",tb={type:"literal",value:"0",description:'"0"'},ub=/^[1-9]/,vb={type:"class",value:"[1-9]",description:"[1-9]"},wb=function(a){return parseInt(a,10)},xb=/^[^{}\\\0-\x1F \t\n\r]/,yb={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},zb="\\#",Ab={type:"literal",value:"\\#",description:'"\\\\#"'},Bb=function(){return"\\#"},Cb="\\{",Db={type:"literal",value:"\\{",description:'"\\\\{"'},Eb=function(){return"{"},Fb="\\}",Gb={type:"literal",value:"\\}",description:'"\\\\}"'},Hb=function(){return"}"},Ib="\\u",Jb={type:"literal",value:"\\u",description:'"\\\\u"'},Kb=function(a){return String.fromCharCode(parseInt(a,16))},Lb=0,Mb=0,Nb=0,Ob={line:1,column:1,seenCR:!1},Pb=0,Qb=[],Rb=0;if("startRule"in B){if(!(B.startRule in D))throw new Error("Can't start parsing from rule \""+B.startRule+'".');E=D[B.startRule]}if(A=E(),A!==C&&Lb===a.length)return A;throw A!==C&&Lb<a.length&&d({type:"end",description:"end of input"}),e(null,Qb,Pb)}return a(b,Error),{SyntaxError:b,parse:c}}();"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:"undefined"!=typeof this&&(this.IntlMessageFormatParser=a)}).call(this);
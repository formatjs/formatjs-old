!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t=t||self).IntlMessageFormat=r()}(this,function(){"use strict";var n,t=(n=function(t,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),o=(r.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},r.prototype.compileMessage=function(t){var r=this;if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var e=t.elements,n=e.filter(function(t){return"messageTextElement"===t.type||"argumentElement"===t.type}).map(function(t){return"messageTextElement"===t.type?r.compileMessageText(t):r.compileArgument(t)});if(n.length!==e.length)throw new Error("Message element does not have a valid type");return n},r.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new f(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(t){var r=t.format,e=t.id;if(!r)return new i(e);var n=this.formats,o=this.locales;switch(r.type){case"numberFormat":return{id:e,format:new Intl.NumberFormat(o,n.number[r.style]).format};case"dateFormat":return{id:e,format:new Intl.DateTimeFormat(o,n.date[r.style]).format};case"timeFormat":return{id:e,format:new Intl.DateTimeFormat(o,n.time[r.style]).format};case"pluralFormat":return new s(e,r.ordinal,r.offset,this.compileOptions(t),o);case"selectFormat":return new h(e,this.compileOptions(t));default:throw new Error("Message element does not have a valid format type")}},r.prototype.compileOptions=function(t){var e=this,r=t.format,n=r.options;this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?t:null;var o=n.reduce(function(t,r){return t[r.selector]=e.compileMessage(r.value),t},{});return this.currentPlural=this.pluralStack.pop(),o},r);function r(t,r){this.locales=[],this.formats={number:{},date:{},time:{}},this.pluralNumberFormat=null,this.currentPlural=null,this.pluralStack=[],this.locales=t,this.formats=r}function e(t){this.id=t}var a,i=(t(u,a=e),u.prototype.format=function(t){return t||"number"==typeof t?"string"==typeof t?t:String(t):""},u);function u(){return null!==a&&a.apply(this,arguments)||this}var s=(c.prototype.getOption=function(t){var r=this.options;return r["="+t]||r[this.pluralRules.select(t-this.offset)]||r.other},c);function c(t,r,e,n,o){this.id=t,this.offset=e,this.options=n,this.pluralRules=new Intl.PluralRules(o,{type:r?"ordinal":"cardinal"})}var l,f=(t(p,l=e),p.prototype.format=function(t){var r=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+r).replace(/\\#/g,"#")},p);function p(t,r,e,n){var o=l.call(this,t)||this;return o.offset=r,o.numberFormat=e,o.string=n,o}var h=(m.prototype.getOption=function(t){var r=this.options;return r[t]||r.other},m);function m(t,r){this.id=t,this.options=r}var d,g,y=(d=Gt,g=Error,v.prototype=g.prototype,d.prototype=new v,Gt.buildMessage=function(t,r){var e,a={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var r,e="";for(r=0;r<t.parts.length;r++)e+=t.parts[r]instanceof Array?i(t.parts[r][0])+"-"+i(t.parts[r][1]):i(t.parts[r]);return"["+(t.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){var r,e,n,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=(n=t[r],a[n.type](n));if(o.sort(),0<o.length){for(e=r=1;r<o.length;r++)o[r-1]!==o[r]&&(o[e]=o[r],e++);o.length=e}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+((e=r)?'"'+o(e)+'"':"end of input")+" found."},{SyntaxError:Gt,parse:function(s,t){t=void 0!==t?t:{};var r,e,n,o,c={},a={start:Lt},i=Lt,u=function(t){return{type:"messageFormatPattern",elements:t,location:Pt()}},l=function(t){return t.reduce(function(t,r){return t.concat(r)},[]).join("")},f=function(t){return{type:"messageTextElement",value:t,location:Pt()}},p=/^[^ \t\n\r,.+={}#]/,h=St([" ","\t","\n","\r",",",".","+","=","{","}","#"],!0,!1),m="{",d=Ot("{",!1),g=",",y=Ot(",",!1),v="}",b=Ot("}",!1),_=function(t,r){return{type:"argumentElement",id:t,format:r&&r[2],location:Pt()}},w="number",A=Ot("number",!1),F="date",x=Ot("date",!1),C="time",E=Ot("time",!1),P=function(t,r){return{type:t+"Format",style:r&&r[2],location:Pt()}},O="plural",S=Ot("plural",!1),j=function(t){return{type:t.type,ordinal:!1,offset:t.offset||0,options:t.options,location:Pt()}},I="selectordinal",M=Ot("selectordinal",!1),T=function(t){return{type:t.type,ordinal:!0,offset:t.offset||0,options:t.options,location:Pt()}},L="select",N=Ot("select",!1),k=function(t){return{type:"selectFormat",options:t,location:Pt()}},D="=",R=Ot("=",!1),Z=function(t,r){return{type:"optionalFormatPattern",selector:t,value:r,location:Pt()}},U="offset:",W=Ot("offset:",!1),$=function(t){return t},q=function(t,r){return{type:"pluralFormat",offset:t,options:r,location:Pt()}},z=jt("whitespace"),B=/^[ \t\n\r]/,G=St([" ","\t","\n","\r"],!1,!1),H=jt("optionalWhitespace"),J=/^[0-9]/,K=St([["0","9"]],!1,!1),Q=/^[0-9a-f]/i,V=St([["0","9"],["a","f"]],!1,!0),X="0",Y=Ot("0",!1),tt=/^[1-9]/,rt=St([["1","9"]],!1,!1),et=function(t){return parseInt(t,10)},nt=/^[^{}\\\0-\x1F\x7F \t\n\r]/,ot=St(["{","}","\\",["\0",""],""," ","\t","\n","\r"],!0,!1),at="\\\\",it=Ot("\\\\",!1),ut=function(){return"\\"},st="\\#",ct=Ot("\\#",!1),lt=function(){return"\\#"},ft="\\{",pt=Ot("\\{",!1),ht=function(){return"{"},mt="\\}",dt=Ot("\\}",!1),gt=function(){return"}"},yt="\\u",vt=Ot("\\u",!1),bt=function(t){return String.fromCharCode(parseInt(t,16))},_t=function(t){return t.join("")},wt=0,At=0,Ft=[{line:1,column:1}],xt=0,Ct=[],Et=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=a[t.startRule]}function Pt(){return Mt(At,wt)}function Ot(t,r){return{type:"literal",text:t,ignoreCase:r}}function St(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function jt(t){return{type:"other",description:t}}function It(t){var r,e=Ft[t];if(e)return e;for(r=t-1;!Ft[r];)r--;for(e={line:(e=Ft[r]).line,column:e.column};r<t;)10===s.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return Ft[t]=e}function Mt(t,r){var e=It(t),n=It(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function Tt(t){wt<xt||(xt<wt&&(xt=wt,Ct=[]),Ct.push(t))}function Lt(){return Nt()}function Nt(){var t,r,e;for(t=wt,r=[],e=kt();e!==c;)r.push(e),e=kt();return r!==c&&(At=t,r=u(r)),t=r}function kt(){var t;return(t=function(){var t,r;return t=wt,(r=function(){var t,r,e,n,o,a;if(r=[],e=t=wt,(e=(n=Ut())!==c?(o=Bt())!==c&&(a=Ut())!==c?n=[n,o,a]:(wt=e,c):(wt=e,c))!==c)for(;e!==c;)r.push(e),e=wt,n=Ut(),e=n!==c&&(o=Bt())!==c&&(a=Ut())!==c?n=[n,o,a]:(wt=e,c);else r=c;return r!==c&&(At=t,r=l(r)),(t=r)===c&&(t=wt,r=Zt(),t=r!==c?s.substring(t,wt):r),t}())!==c&&(At=t,r=f(r)),t=r}())===c&&(t=function(){var t,r,e,n,o,a,i;return t=wt,123===s.charCodeAt(wt)?(r=m,wt++):(r=c,0===Et&&Tt(d)),t=r!==c?Ut()!==c&&(e=function(){var t,r,e;if((t=qt())===c){if(t=wt,r=[],p.test(s.charAt(wt))?(e=s.charAt(wt),wt++):(e=c,0===Et&&Tt(h)),e!==c)for(;e!==c;)r.push(e),p.test(s.charAt(wt))?(e=s.charAt(wt),wt++):(e=c,0===Et&&Tt(h));else r=c;t=r!==c?s.substring(t,wt):r}return t}())!==c&&Ut()!==c?(n=wt,44===s.charCodeAt(wt)?(o=g,wt++):(o=c,0===Et&&Tt(y)),(n=o!==c&&(a=Ut())!==c&&(i=function(){var t;return(t=function(){var t,r,e,n,o,a;return t=wt,s.substr(wt,6)===w?(r=w,wt+=6):(r=c,0===Et&&Tt(A)),r===c&&(s.substr(wt,4)===F?(r=F,wt+=4):(r=c,0===Et&&Tt(x)),r===c&&(s.substr(wt,4)===C?(r=C,wt+=4):(r=c,0===Et&&Tt(E)))),t=r!==c?Ut()!==c?(e=wt,44===s.charCodeAt(wt)?(n=g,wt++):(n=c,0===Et&&Tt(y)),(e=n!==c&&(o=Ut())!==c&&(a=Bt())!==c?n=[n,o,a]:(wt=e,c))===c&&(e=null),e!==c?(At=t,r=P(r,e)):(wt=t,c)):(wt=t,c):(wt=t,c)}())===c&&(t=function(){var t,r,e,n;return t=wt,s.substr(wt,6)===O?(r=O,wt+=6):(r=c,0===Et&&Tt(S)),t=r!==c?Ut()!==c?(44===s.charCodeAt(wt)?(e=g,wt++):(e=c,0===Et&&Tt(y)),e!==c&&Ut()!==c&&(n=Rt())!==c?(At=t,r=j(n)):(wt=t,c)):(wt=t,c):(wt=t,c)}())===c&&(t=function(){var t,r,e,n;return t=wt,s.substr(wt,13)===I?(r=I,wt+=13):(r=c,0===Et&&Tt(M)),t=r!==c?Ut()!==c?(44===s.charCodeAt(wt)?(e=g,wt++):(e=c,0===Et&&Tt(y)),e!==c&&Ut()!==c&&(n=Rt())!==c?(At=t,r=T(n)):(wt=t,c)):(wt=t,c):(wt=t,c)}())===c&&(t=function(){var t,r,e,n,o;if(t=wt,s.substr(wt,6)===L?(r=L,wt+=6):(r=c,0===Et&&Tt(N)),r!==c)if(Ut()!==c)if(44===s.charCodeAt(wt)?(e=g,wt++):(e=c,0===Et&&Tt(y)),e!==c)if(Ut()!==c){if(n=[],(o=Dt())!==c)for(;o!==c;)n.push(o),o=Dt();else n=c;t=n!==c?(At=t,r=k(n)):(wt=t,c)}else wt=t,t=c;else wt=t,t=c;else wt=t,t=c;else wt=t,t=c;return t}()),t}())!==c?o=[o,a,i]:(wt=n,c))===c&&(n=null),n!==c&&(o=Ut())!==c?(125===s.charCodeAt(wt)?(a=v,wt++):(a=c,0===Et&&Tt(b)),a!==c?(At=t,r=_(e,n)):(wt=t,c)):(wt=t,c)):(wt=t,c):(wt=t,c)}()),t}function Dt(){var t,r,e,n,o;return t=wt,t=Ut()!==c&&(r=function(){var t,r,e,n;return r=t=wt,61===s.charCodeAt(wt)?(e=D,wt++):(e=c,0===Et&&Tt(R)),(t=(r=e!==c&&(n=qt())!==c?e=[e,n]:(wt=r,c))!==c?s.substring(t,wt):r)===c&&(t=Bt()),t}())!==c&&Ut()!==c?(123===s.charCodeAt(wt)?(e=m,wt++):(e=c,0===Et&&Tt(d)),e!==c&&(n=Nt())!==c?(125===s.charCodeAt(wt)?(o=v,wt++):(o=c,0===Et&&Tt(b)),o!==c?(At=t,Z(r,n)):(wt=t,c)):(wt=t,c)):(wt=t,c)}function Rt(){var t,r,e,n;if(t=wt,(r=function(){var t,r,e;return t=wt,s.substr(wt,7)===U?(r=U,wt+=7):(r=c,0===Et&&Tt(W)),t=r!==c&&Ut()!==c&&(e=qt())!==c?(At=t,r=$(e)):(wt=t,c)}())===c&&(r=null),r!==c)if(Ut()!==c){if(e=[],(n=Dt())!==c)for(;n!==c;)e.push(n),n=Dt();else e=c;t=e!==c?(At=t,r=q(r,e)):(wt=t,c)}else wt=t,t=c;else wt=t,t=c;return t}function Zt(){var t,r;if(Et++,t=[],B.test(s.charAt(wt))?(r=s.charAt(wt),wt++):(r=c,0===Et&&Tt(G)),r!==c)for(;r!==c;)t.push(r),B.test(s.charAt(wt))?(r=s.charAt(wt),wt++):(r=c,0===Et&&Tt(G));else t=c;return Et--,t===c&&(r=c,0===Et&&Tt(z)),t}function Ut(){var t,r,e;for(Et++,t=wt,r=[],e=Zt();e!==c;)r.push(e),e=Zt();return t=r!==c?s.substring(t,wt):r,Et--,t===c&&(r=c,0===Et&&Tt(H)),t}function Wt(){var t;return J.test(s.charAt(wt))?(t=s.charAt(wt),wt++):(t=c,0===Et&&Tt(K)),t}function $t(){var t;return Q.test(s.charAt(wt))?(t=s.charAt(wt),wt++):(t=c,0===Et&&Tt(V)),t}function qt(){var t,r,e,n,o,a;if(t=wt,48===s.charCodeAt(wt)?(r=X,wt++):(r=c,0===Et&&Tt(Y)),r===c){if(e=r=wt,tt.test(s.charAt(wt))?(n=s.charAt(wt),wt++):(n=c,0===Et&&Tt(rt)),n!==c){for(o=[],a=Wt();a!==c;)o.push(a),a=Wt();e=o!==c?n=[n,o]:(wt=e,c)}else wt=e,e=c;r=e!==c?s.substring(r,wt):e}return r!==c&&(At=t,r=et(r)),t=r}function zt(){var t,r,e,n,o,a,i,u;return nt.test(s.charAt(wt))?(t=s.charAt(wt),wt++):(t=c,0===Et&&Tt(ot)),t===c&&(t=wt,s.substr(wt,2)===at?(r=at,wt+=2):(r=c,0===Et&&Tt(it)),r!==c&&(At=t,r=ut()),(t=r)===c&&(t=wt,s.substr(wt,2)===st?(r=st,wt+=2):(r=c,0===Et&&Tt(ct)),r!==c&&(At=t,r=lt()),(t=r)===c&&(t=wt,s.substr(wt,2)===ft?(r=ft,wt+=2):(r=c,0===Et&&Tt(pt)),r!==c&&(At=t,r=ht()),(t=r)===c&&(t=wt,s.substr(wt,2)===mt?(r=mt,wt+=2):(r=c,0===Et&&Tt(dt)),r!==c&&(At=t,r=gt()),(t=r)===c&&(t=wt,s.substr(wt,2)===yt?(r=yt,wt+=2):(r=c,0===Et&&Tt(vt)),t=r!==c?(n=e=wt,(e=(n=(o=$t())!==c&&(a=$t())!==c&&(i=$t())!==c&&(u=$t())!==c?o=[o,a,i,u]:(wt=n,c))!==c?s.substring(e,wt):n)!==c?(At=t,r=bt(e)):(wt=t,c)):(wt=t,c)))))),t}function Bt(){var t,r,e;if(t=wt,r=[],(e=zt())!==c)for(;e!==c;)r.push(e),e=zt();else r=c;return r!==c&&(At=t,r=_t(r)),t=r}if((r=i())!==c&&wt===s.length)return r;throw r!==c&&wt<s.length&&Tt({type:"end"}),e=Ct,n=xt<s.length?s.charAt(xt):null,o=xt<s.length?Mt(xt,xt+1):Mt(xt,xt),new Gt(Gt.buildMessage(e,n),e,n,o)}});function Gt(t,r,e,n){this.message=t,this.expected=r,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Gt)}function v(){this.constructor=d}var b,_=(b=function(t,r){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}b(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),w=function(){return(w=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},A=(F.__addLocaleData=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach(function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");F.__localeData__[t.locale.toLowerCase()]=t})},F.prototype.resolvedOptions=function(){return{locale:this._locale}},F.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(F.defaultLocale);for(var r=F.__localeData__,e=0,n=t;e<n.length;e++)for(var o=n[e].toLowerCase().split("-");o.length;){var a=r[o.join("-")];if(a)return a.locale;o.pop()}var i=t.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+t.join(", ")+", or the default locale: "+i)},F.prototype._compilePattern=function(t,r,e){return new o(r,e).compile(t)},F.prototype._format=function(t,r){for(var e="",n=0,o=t;n<o.length;n++){var a=o[n];if("string"!=typeof a){var i=a.id;if(!(r&&i in r))throw new C("A value must be provided for: "+i,i);var u=r[i];a.options?e+=this._format(a.getOption(u),r):e+=a.format(u)}else e+=a}return e},F.defaultLocale="en",F.__localeData__={},F.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},F.__parse=y.parse,F);function F(t,r,e){var n=this;this.format=function(t){try{return n._format(n.pattern,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+n.message+"'"):t}};var o="string"==typeof t?F.__parse(t):t;if(!o||"messageFormatPattern"!==o.type)throw new TypeError("A message must be provided as a String or AST.");var a=function(t,r){return r?w({},t,{date:function(e,n){return n?w({},e||{},n||{},Object.keys(e).reduce(function(t,r){return t[r]=w({},e[r],n[r]||{}),t},{})):e}(t.date,r.date)}):t}(F.formats,e);this._locale=this._resolveLocale(r||[]),this.pattern=this._compilePattern(o,r||[],a),this.message=t}var x,C=(x=Error,_(E,x),E);function E(t,r){var e=x.call(this,t)||this;return e.variableId=r,e}return A.__addLocaleData({locale:"en"}),A.defaultLocale="en",A});
//# sourceMappingURL=intl-messageformat.min.js.map

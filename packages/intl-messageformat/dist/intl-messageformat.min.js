!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).IntlMessageFormat=e()}(this,function(){"use strict";var n,t=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=(e.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},e.prototype.compileMessage=function(t){var e=this;if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var r=t.elements,n=r.filter(function(t){return"messageTextElement"===t.type||"argumentElement"===t.type}).map(function(t){return"messageTextElement"===t.type?e.compileMessageText(t):e.compileArgument(t)});if(n.length!==r.length)throw new Error("Message element does not have a valid type");return n},e.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new f(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},e.prototype.compileArgument=function(t){var e=t.format,r=t.id;if(!e)return new i(r);var n=this.formats,o=this.locales;switch(e.type){case"numberFormat":return{id:r,format:new Intl.NumberFormat(o,n.number[e.style]).format};case"dateFormat":return{id:r,format:new Intl.DateTimeFormat(o,n.date[e.style]).format};case"timeFormat":return{id:r,format:new Intl.DateTimeFormat(o,n.time[e.style]).format};case"pluralFormat":return new s(r,e.ordinal,e.offset,this.compileOptions(t),o);case"selectFormat":return new h(r,this.compileOptions(t));default:throw new Error("Message element does not have a valid format type")}},e.prototype.compileOptions=function(t){var e,r,n,o=t.format,a=o.options,i={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===o.type?t:null,e=0,r=a.length;e<r;e+=1)i[(n=a[e]).selector]=this.compileMessage(n.value);return this.currentPlural=this.pluralStack.pop(),i},e);function e(t,e){this.locales=[],this.formats={number:{},date:{},time:{}},this.pluralNumberFormat=null,this.currentPlural=null,this.pluralStack=[],this.locales=t,this.formats=e}function r(t){this.id=t}var a,i=(t(u,a=r),u.prototype.format=function(t){return t||"number"==typeof t?"string"==typeof t?t:String(t):""},u);function u(){return null!==a&&a.apply(this,arguments)||this}var s=(c.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralRules.select(t-this.offset)]||e.other},c);function c(t,e,r,n,o){this.id=t,this.offset=r,this.options=n,this.pluralRules=new Intl.PluralRules(o,{type:e?"ordinal":"cardinal"})}var l,f=(t(p,l=r),p.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},p);function p(t,e,r,n){var o=l.call(this,t)||this;return o.offset=e,o.numberFormat=r,o.string=n,o}var h=(m.prototype.getOption=function(t){var e=this.options;return e[t]||e.other},m);function m(t,e){this.id=t,this.options=e}var d,g,y=(d=Gt,g=Error,v.prototype=g.prototype,d.prototype=new v,Gt.buildMessage=function(t,e){var r,a={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){var e,r,n,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(n=t[e],a[n.type](n));if(o.sort(),0<o.length){for(r=e=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+((r=e)?'"'+o(r)+'"':"end of input")+" found."},{SyntaxError:Gt,parse:function(s,t){t=void 0!==t?t:{};var e,r,n,o,c={},a={start:Lt},i=Lt,u=function(t){return{type:"messageFormatPattern",elements:t,location:Pt()}},l=function(t){return t.reduce(function(t,e){return t.concat(e)},[]).join("")},f=function(t){return{type:"messageTextElement",value:t,location:Pt()}},p=/^[^ \t\n\r,.+={}#]/,h=St([" ","\t","\n","\r",",",".","+","=","{","}","#"],!0,!1),m="{",d=Ot("{",!1),g=",",y=Ot(",",!1),v="}",b=Ot("}",!1),_=function(t,e){return{type:"argumentElement",id:t,format:e&&e[2],location:Pt()}},w="number",A=Ot("number",!1),F="date",x=Ot("date",!1),C="time",E=Ot("time",!1),P=function(t,e){return{type:t+"Format",style:e&&e[2],location:Pt()}},O="plural",S=Ot("plural",!1),j=function(t){return{type:t.type,ordinal:!1,offset:t.offset||0,options:t.options,location:Pt()}},I="selectordinal",M=Ot("selectordinal",!1),T=function(t){return{type:t.type,ordinal:!0,offset:t.offset||0,options:t.options,location:Pt()}},L="select",N=Ot("select",!1),k=function(t){return{type:"selectFormat",options:t,location:Pt()}},D="=",R=Ot("=",!1),Z=function(t,e){return{type:"optionalFormatPattern",selector:t,value:e,location:Pt()}},U="offset:",W=Ot("offset:",!1),$=function(t){return t},q=function(t,e){return{type:"pluralFormat",offset:t,options:e,location:Pt()}},z=jt("whitespace"),B=/^[ \t\n\r]/,G=St([" ","\t","\n","\r"],!1,!1),H=jt("optionalWhitespace"),J=/^[0-9]/,K=St([["0","9"]],!1,!1),Q=/^[0-9a-f]/i,V=St([["0","9"],["a","f"]],!1,!0),X="0",Y=Ot("0",!1),tt=/^[1-9]/,et=St([["1","9"]],!1,!1),rt=function(t){return parseInt(t,10)},nt=/^[^{}\\\0-\x1F\x7F \t\n\r]/,ot=St(["{","}","\\",["\0",""],""," ","\t","\n","\r"],!0,!1),at="\\\\",it=Ot("\\\\",!1),ut=function(){return"\\"},st="\\#",ct=Ot("\\#",!1),lt=function(){return"\\#"},ft="\\{",pt=Ot("\\{",!1),ht=function(){return"{"},mt="\\}",dt=Ot("\\}",!1),gt=function(){return"}"},yt="\\u",vt=Ot("\\u",!1),bt=function(t){return String.fromCharCode(parseInt(t,16))},_t=function(t){return t.join("")},wt=0,At=0,Ft=[{line:1,column:1}],xt=0,Ct=[],Et=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=a[t.startRule]}function Pt(){return Mt(At,wt)}function Ot(t,e){return{type:"literal",text:t,ignoreCase:e}}function St(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function jt(t){return{type:"other",description:t}}function It(t){var e,r=Ft[t];if(r)return r;for(e=t-1;!Ft[e];)e--;for(r={line:(r=Ft[e]).line,column:r.column};e<t;)10===s.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Ft[t]=r}function Mt(t,e){var r=It(t),n=It(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function Tt(t){wt<xt||(xt<wt&&(xt=wt,Ct=[]),Ct.push(t))}function Lt(){return Nt()}function Nt(){var t,e,r;for(t=wt,e=[],r=kt();r!==c;)e.push(r),r=kt();return e!==c&&(At=t,e=u(e)),t=e}function kt(){var t;return(t=function(){var t,e;return t=wt,(e=function(){var t,e,r,n,o,a;if(e=[],r=t=wt,(r=(n=Ut())!==c?(o=Bt())!==c&&(a=Ut())!==c?n=[n,o,a]:(wt=r,c):(wt=r,c))!==c)for(;r!==c;)e.push(r),r=wt,n=Ut(),r=n!==c&&(o=Bt())!==c&&(a=Ut())!==c?n=[n,o,a]:(wt=r,c);else e=c;return e!==c&&(At=t,e=l(e)),(t=e)===c&&(t=wt,e=Zt(),t=e!==c?s.substring(t,wt):e),t}())!==c&&(At=t,e=f(e)),t=e}())===c&&(t=function(){var t,e,r,n,o,a,i;return t=wt,123===s.charCodeAt(wt)?(e=m,wt++):(e=c,0===Et&&Tt(d)),t=e!==c?Ut()!==c&&(r=function(){var t,e,r;if((t=qt())===c){if(t=wt,e=[],p.test(s.charAt(wt))?(r=s.charAt(wt),wt++):(r=c,0===Et&&Tt(h)),r!==c)for(;r!==c;)e.push(r),p.test(s.charAt(wt))?(r=s.charAt(wt),wt++):(r=c,0===Et&&Tt(h));else e=c;t=e!==c?s.substring(t,wt):e}return t}())!==c&&Ut()!==c?(n=wt,44===s.charCodeAt(wt)?(o=g,wt++):(o=c,0===Et&&Tt(y)),(n=o!==c&&(a=Ut())!==c&&(i=function(){var t;return(t=function(){var t,e,r,n,o,a;return t=wt,s.substr(wt,6)===w?(e=w,wt+=6):(e=c,0===Et&&Tt(A)),e===c&&(s.substr(wt,4)===F?(e=F,wt+=4):(e=c,0===Et&&Tt(x)),e===c&&(s.substr(wt,4)===C?(e=C,wt+=4):(e=c,0===Et&&Tt(E)))),t=e!==c?Ut()!==c?(r=wt,44===s.charCodeAt(wt)?(n=g,wt++):(n=c,0===Et&&Tt(y)),(r=n!==c&&(o=Ut())!==c&&(a=Bt())!==c?n=[n,o,a]:(wt=r,c))===c&&(r=null),r!==c?(At=t,e=P(e,r)):(wt=t,c)):(wt=t,c):(wt=t,c)}())===c&&(t=function(){var t,e,r,n;return t=wt,s.substr(wt,6)===O?(e=O,wt+=6):(e=c,0===Et&&Tt(S)),t=e!==c?Ut()!==c?(44===s.charCodeAt(wt)?(r=g,wt++):(r=c,0===Et&&Tt(y)),r!==c&&Ut()!==c&&(n=Rt())!==c?(At=t,e=j(n)):(wt=t,c)):(wt=t,c):(wt=t,c)}())===c&&(t=function(){var t,e,r,n;return t=wt,s.substr(wt,13)===I?(e=I,wt+=13):(e=c,0===Et&&Tt(M)),t=e!==c?Ut()!==c?(44===s.charCodeAt(wt)?(r=g,wt++):(r=c,0===Et&&Tt(y)),r!==c&&Ut()!==c&&(n=Rt())!==c?(At=t,e=T(n)):(wt=t,c)):(wt=t,c):(wt=t,c)}())===c&&(t=function(){var t,e,r,n,o;if(t=wt,s.substr(wt,6)===L?(e=L,wt+=6):(e=c,0===Et&&Tt(N)),e!==c)if(Ut()!==c)if(44===s.charCodeAt(wt)?(r=g,wt++):(r=c,0===Et&&Tt(y)),r!==c)if(Ut()!==c){if(n=[],(o=Dt())!==c)for(;o!==c;)n.push(o),o=Dt();else n=c;t=n!==c?(At=t,e=k(n)):(wt=t,c)}else wt=t,t=c;else wt=t,t=c;else wt=t,t=c;else wt=t,t=c;return t}()),t}())!==c?o=[o,a,i]:(wt=n,c))===c&&(n=null),n!==c&&(o=Ut())!==c?(125===s.charCodeAt(wt)?(a=v,wt++):(a=c,0===Et&&Tt(b)),a!==c?(At=t,e=_(r,n)):(wt=t,c)):(wt=t,c)):(wt=t,c):(wt=t,c)}()),t}function Dt(){var t,e,r,n,o;return t=wt,t=Ut()!==c&&(e=function(){var t,e,r,n;return e=t=wt,61===s.charCodeAt(wt)?(r=D,wt++):(r=c,0===Et&&Tt(R)),(t=(e=r!==c&&(n=qt())!==c?r=[r,n]:(wt=e,c))!==c?s.substring(t,wt):e)===c&&(t=Bt()),t}())!==c&&Ut()!==c?(123===s.charCodeAt(wt)?(r=m,wt++):(r=c,0===Et&&Tt(d)),r!==c&&(n=Nt())!==c?(125===s.charCodeAt(wt)?(o=v,wt++):(o=c,0===Et&&Tt(b)),o!==c?(At=t,Z(e,n)):(wt=t,c)):(wt=t,c)):(wt=t,c)}function Rt(){var t,e,r,n;if(t=wt,(e=function(){var t,e,r;return t=wt,s.substr(wt,7)===U?(e=U,wt+=7):(e=c,0===Et&&Tt(W)),t=e!==c&&Ut()!==c&&(r=qt())!==c?(At=t,e=$(r)):(wt=t,c)}())===c&&(e=null),e!==c)if(Ut()!==c){if(r=[],(n=Dt())!==c)for(;n!==c;)r.push(n),n=Dt();else r=c;t=r!==c?(At=t,e=q(e,r)):(wt=t,c)}else wt=t,t=c;else wt=t,t=c;return t}function Zt(){var t,e;if(Et++,t=[],B.test(s.charAt(wt))?(e=s.charAt(wt),wt++):(e=c,0===Et&&Tt(G)),e!==c)for(;e!==c;)t.push(e),B.test(s.charAt(wt))?(e=s.charAt(wt),wt++):(e=c,0===Et&&Tt(G));else t=c;return Et--,t===c&&(e=c,0===Et&&Tt(z)),t}function Ut(){var t,e,r;for(Et++,t=wt,e=[],r=Zt();r!==c;)e.push(r),r=Zt();return t=e!==c?s.substring(t,wt):e,Et--,t===c&&(e=c,0===Et&&Tt(H)),t}function Wt(){var t;return J.test(s.charAt(wt))?(t=s.charAt(wt),wt++):(t=c,0===Et&&Tt(K)),t}function $t(){var t;return Q.test(s.charAt(wt))?(t=s.charAt(wt),wt++):(t=c,0===Et&&Tt(V)),t}function qt(){var t,e,r,n,o,a;if(t=wt,48===s.charCodeAt(wt)?(e=X,wt++):(e=c,0===Et&&Tt(Y)),e===c){if(r=e=wt,tt.test(s.charAt(wt))?(n=s.charAt(wt),wt++):(n=c,0===Et&&Tt(et)),n!==c){for(o=[],a=Wt();a!==c;)o.push(a),a=Wt();r=o!==c?n=[n,o]:(wt=r,c)}else wt=r,r=c;e=r!==c?s.substring(e,wt):r}return e!==c&&(At=t,e=rt(e)),t=e}function zt(){var t,e,r,n,o,a,i,u;return nt.test(s.charAt(wt))?(t=s.charAt(wt),wt++):(t=c,0===Et&&Tt(ot)),t===c&&(t=wt,s.substr(wt,2)===at?(e=at,wt+=2):(e=c,0===Et&&Tt(it)),e!==c&&(At=t,e=ut()),(t=e)===c&&(t=wt,s.substr(wt,2)===st?(e=st,wt+=2):(e=c,0===Et&&Tt(ct)),e!==c&&(At=t,e=lt()),(t=e)===c&&(t=wt,s.substr(wt,2)===ft?(e=ft,wt+=2):(e=c,0===Et&&Tt(pt)),e!==c&&(At=t,e=ht()),(t=e)===c&&(t=wt,s.substr(wt,2)===mt?(e=mt,wt+=2):(e=c,0===Et&&Tt(dt)),e!==c&&(At=t,e=gt()),(t=e)===c&&(t=wt,s.substr(wt,2)===yt?(e=yt,wt+=2):(e=c,0===Et&&Tt(vt)),t=e!==c?(n=r=wt,(r=(n=(o=$t())!==c&&(a=$t())!==c&&(i=$t())!==c&&(u=$t())!==c?o=[o,a,i,u]:(wt=n,c))!==c?s.substring(r,wt):n)!==c?(At=t,e=bt(r)):(wt=t,c)):(wt=t,c)))))),t}function Bt(){var t,e,r;if(t=wt,e=[],(r=zt())!==c)for(;r!==c;)e.push(r),r=zt();else e=c;return e!==c&&(At=t,e=_t(e)),t=e}if((e=i())!==c&&wt===s.length)return e;throw e!==c&&wt<s.length&&Tt({type:"end"}),r=Ct,n=xt<s.length?s.charAt(xt):null,o=xt<s.length?Mt(xt,xt+1):Mt(xt,xt),new Gt(Gt.buildMessage(r,n),r,n,o)}});function Gt(t,e,r,n){this.message=t,this.expected=e,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Gt)}function v(){this.constructor=d}var b,_=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=function(){return(w=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},A=(F.__addLocaleData=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");F.__localeData__[t.locale.toLowerCase()]=t})},F.prototype.resolvedOptions=function(){return{locale:this._locale}},F.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(F.defaultLocale);var e,r,n,o,a=F.__localeData__;for(e=0,r=t.length;e<r;e+=1)for(n=t[e].toLowerCase().split("-");n.length;){if(o=a[n.join("-")])return o.locale;n.pop()}var i=t.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+t.join(", ")+", or the default locale: "+i)},F.prototype._compilePattern=function(t,e,r){return new o(e,r).compile(t)},F.prototype._format=function(t,e){var r,n,o,a,i,u="";for(r=0,n=t.length;r<n;r+=1)if("string"!=typeof(o=t[r])){if(a=o.id,!(e&&a in e))throw new C("A value must be provided for: "+a,a);i=e[a],o.options?u+=this._format(o.getOption(i),e):u+=o.format(i)}else u+=o;return u},F.defaultLocale="en",F.__localeData__={},F.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},F.__parse=y.parse,F);function F(t,e,r){var n=this;this.format=function(t){try{return n._format(n.pattern,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+n.message+"'"):t}};var o="string"==typeof t?F.__parse(t):t;if(!o||"messageFormatPattern"!==o.type)throw new TypeError("A message must be provided as a String or AST.");var a=function(t,e){return e?w({},t,{date:function(r,n){return n?w({},r||{},n||{},Object.keys(r).reduce(function(t,e){return t[e]=w({},r[e],n[e]||{}),t},{})):r}(t.date,e.date)}):t}(F.formats,r);this._locale=this._resolveLocale(e||[]),this.pattern=this._compilePattern(o,e||[],a),this.message=t}var x,C=(x=Error,_(E,x),E);function E(t,e){var r=x.call(this,t)||this;return r.variableId=e,r}return A.__addLocaleData({locale:"en"}),A.defaultLocale="en",A});
//# sourceMappingURL=intl-messageformat.min.js.map
